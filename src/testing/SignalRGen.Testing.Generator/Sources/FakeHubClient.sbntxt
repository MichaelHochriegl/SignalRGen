//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

#nullable enable
{{~ if !string.empty namespace_name ~}}
namespace {{ namespace_name }}.TestFakes;

{{~ end ~}}
using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading;
using System.Threading.Tasks;
using Microsoft.AspNetCore.SignalR.Client;
using Microsoft.AspNetCore.Http.Connections.Client;

public sealed class Fake{{ hub_client_name }} : {{ namespace_name }}.{{ hub_client_name }}
{
    private readonly Lock _lock = new();

    {{~ for method in client_to_server ~}}
    {{~ $camel = to_camel_case method.identifier ~}} 
    public IReadOnlyList<({{~ for p in method.parameters ~}}{{ if !for.first }}, {{ end }}{{ p.type }} {{ p.name }}{{~ end ~}})> {{ method.identifier }}Calls
    {
        get { lock (_lock) return _{{ $camel }}Calls.ToList(); }
    }
    private readonly List<({{~ for p in method.parameters ~}}{{ if !for.first }}, {{ end }}{{ p.type }} {{ p.name }}{{~ end ~}})> _{{ $camel }}Calls = new();

    public Func<{{~ for p in method.parameters ~}}{{ if !for.first }}, {{ end }}{{ p.type }}{{~ end ~}}, CancellationToken, {{ method.return_type }}>? {{ method.identifier }}Handler { get; set; }

    {{~ end ~}}

}